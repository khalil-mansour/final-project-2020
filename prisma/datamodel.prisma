type UserGroup {
  id: ID! @id
  user: User! @relation(name: "UserUserGroup")
  userType: UserType! @relation
  group: Group! @relation(name:"GroupUserGroup")
}

type User {
  id: ID! @id
  userId: String! 
  name: String!
  lastName: String!
  email: String! @unique
  userChatroom: [UserChatroom!]! @relation(name: "UserUserChatroom")
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

type UserType{
  id: ID! @id
  type: String!
}

type Group {
  id: ID! @id
  name: String!
  address: Int!
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

type Address {
  id: ID! @id
  country: String!
  province: String!
  city: String!
  noCivic: Int!
  appartmentUnit: Int
}

type Invitation {
  id: ID! @id
  owner: User! @realtion
  groupe: Group! @realtion(name:"GroupInvitation")
  link: String! 
  expiredAt: DateTime! 
}

type Chatroom {
  id: ID! @id
  name: String!
  isArchived: Boolean @default(value: false)
  userChatroom: [UserChatroom!]! @relation(name: "ChatroomUserChatroom")
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

type UserChatroom {
  id : ID! @id
  user: User! @relation(name: "UserUserChatroom")
  chatroom: Chatroom! @relation(name: "ChatroomUserChatroom")
  leftDate: DateTime 
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
}

type Message {
  id: ID! @id
  content: String!
  userId: User! @relation(name: "UserMessage")
  chatroomId: Chatroom! @relation(name: "ChatroomMessage")
  createdAt: DateTime! @createdAt
  updatedAt: DateTime! @updatedAt
  deletedAt: DateTime 
}

